package ontorama.ui;import ontorama.ontotools.query.QueryResult;import ontorama.ui.events.GraphIsLoadedEvent;import ontorama.OntoramaConfig;import ontorama.backends.Backend;import ontorama.model.graph.Graph;import org.tockit.events.EventBroker;/** * <p>Copyright: Copyright (c) 2002</p> * <p>Company: DSTC</p> * @author nataliya * @version 1.0 */public class GraphCreatorThread extends ThreadWorker {    /**     * graph that will be built as a result of query     */    private Graph _graph;    private EventBroker _modelEventBroker;        private QueryResult _queryResult;    /**     * Constructor.     */    public GraphCreatorThread(QueryResult queryResult, EventBroker modelEventBroker) {        super();        _queryResult = queryResult;        _modelEventBroker = modelEventBroker;        initAll();    }    public void run() {        try {            Backend backend = OntoramaConfig.getBackend();            _graph = backend.createGraph(_queryResult, _modelEventBroker);            _status = "graph is built";			_modelEventBroker.processEvent(new GraphIsLoadedEvent(_graph));        }         catch (Exception e) {			System.err.println(e);			e.printStackTrace();			ErrorDialog.showError(OntoRamaApp.getMainFrame(), e, "Error", "Unable to build graph:\n\t" + e.getMessage());        }        _finished = true;    }        /**     * get graph that has been built     */    public Object getResult() {        return _graph;    }}